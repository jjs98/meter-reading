<p-card [styleClass]="'overflow-hidden h-full'">
  <p-table
    [value]="dataStore.meters()"
    selectionMode="single"
    (onRowSelect)="onRowSelect($event)"
    class="h-full"
    [scrollable]="true"
    scrollHeight="flex"
  >
    <ng-template pTemplate="caption">
      <div class="flex items-center justify-between">
        Meters
        <p-button icon="i-[mdi--plus]" [rounded]="true" (onClick)="showDialog()" />
      </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th>Type</th>
        <th>Number</th>
        <th>Location</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-meter>
      <tr [pSelectableRow]="meter">
        <td>
          <span
            class="{{
              meter.type === 0
                ? 'i-[mdi--lightning-bolt]'
                : meter.type === 1
                  ? 'i-[mdi--water]'
                  : 'i-[mdi--gas-cylinder]'
            }}"
          ></span>
        </td>
        <td>
          <span>{{ meter.meterNumber }}</span>
        </td>
        <td>
          <span>{{ meter.location }}</span>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="3">No meters found.</td>
      </tr>
    </ng-template>
  </p-table>
</p-card>

<app-new-meter-dialog></app-new-meter-dialog>
